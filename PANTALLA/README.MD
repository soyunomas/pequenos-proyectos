**GoKVM** es un KVM (Keyboard, Video, Mouse) por software ligero, seguro y rÃ¡pido escrito en Go. Permite controlar mÃºltiples computadoras utilizando un Ãºnico teclado y mouse, compartiendo el portapapeles (texto e imÃ¡genes) entre ellas sin problemas.

EstÃ¡ diseÃ±ado con un enfoque en la **baja latencia** (protocolo binario custom), la **seguridad** (TLS 1.3 + Token de AutenticaciÃ³n) y la **facilidad de uso** (configuraciÃ³n simple y System Tray).

## âœ¨ CaracterÃ­sticas

*   ğŸš€ **Baja Latencia:** Protocolo binario personalizado sobre TCP (NoDelay) para movimiento de mouse fluido.
*   ğŸ”’ **Seguridad Total:** Todo el trÃ¡fico estÃ¡ encriptado con TLS 1.3.
*   ğŸ”‘ **AutenticaciÃ³n:** Sistema de tokens para prevenir conexiones no autorizadas.
*   ğŸ“‹ **Portapapeles Sincronizado:** Copia texto e imÃ¡genes entre computadoras.
*   ğŸ“¦ **CompresiÃ³n Inteligente:** Las imÃ¡genes se comprimen (Zlib) antes de enviarse para no saturar la red.
*   ğŸ–±ï¸ **TransiciÃ³n Fluida:** Mueve el mouse al borde de tu pantalla para saltar a la otra PC.
*   ğŸ”„ **Resiliencia:** El cliente se reconecta automÃ¡ticamente si el servidor se reinicia o la red falla.
*   ğŸ’» **Multiplataforma:** Soporte probado en Linux y Windows (macOS experimental).
*   Tray Icon: Icono en la barra de tareas para ver el estado y cerrar la aplicaciÃ³n limpiamente.

---

## ğŸ› ï¸ Requisitos Previos

Necesitas tener instalado **Go (Golang) 1.20+** y un compilador de C (`gcc`) ya que el proyecto utiliza CGO para controlar los inputs del sistema.

### ğŸ§ Linux (Ubuntu/Debian)
Necesitas las librerÃ­as de desarrollo para el portapapeles y la interfaz grÃ¡fica:

```bash
sudo apt-get update
sudo apt-get install gcc libx11-dev xorg-dev libxtst-dev libpng-dev libxkbcommon-x11-dev
# Para la interfaz de sistema (System Tray):
sudo apt-get install libgtk-3-dev libayatana-appindicator3-dev
```

### ğŸªŸ Windows
*   Instalar [TDM-GCC](https://jmeubank.github.io/tdm-gcc/) (necesario para CGO).
*   Instalar Go.

---

## âš™ï¸ InstalaciÃ³n y CompilaciÃ³n

El proyecto incluye un `Makefile` para facilitar la compilaciÃ³n.

1.  **Clonar el repositorio:**
    ```bash
    git clone https://github.com/tu-usuario/gokvm.git
    cd gokvm
    ```

2.  **Descargar dependencias:**
    ```bash
    make dep
    ```

3.  **Compilar para tu sistema actual:**
    ```bash
    make build
    ```
    *Esto generarÃ¡ los binarios en la carpeta `/bin` (`server` y `client`).*

4.  **CompilaciÃ³n Cruzada (Opcional):**
    Si estÃ¡s en Linux y quieres generar el `.exe` para Windows:
    ```bash
    make build-windows
    ```

---

## ğŸ“ ConfiguraciÃ³n

La primera vez que ejecutes el programa, se generarÃ¡ automÃ¡ticamente un archivo `config.json`. **Debes editarlo para emparejar las computadoras.**

### Estructura de `config.json`

```json
{
  "server": {
    "client_edge": "right",          
    "port": ":8080",
  },
  "client": {
    "server_ip": "192.168.1.50:8080", 
    "name": "Laptop-Trabajo",
    "auth_token": "MI_SECRETO_SUPER_SEGURO"
  }
}
```

*   **Server (PC Principal - Mouse/Teclado fÃ­sico):**
    *   `client_edge`: Define dÃ³nde estÃ¡ la otra pantalla. Usa `"right"` (derecha) o `"left"` (izquierda).
    *   `auth_token`: ContraseÃ±a que debe coincidir con la del cliente.
*   **Client (PC Remota):**
    *   `server_ip`: La direcciÃ³n IP de la PC Servidor.
    *   `auth_token`: Debe ser idÃ©ntico al del servidor.

---

## ğŸš€ Uso

### 1. Iniciar el Servidor (PC Principal)
Ejecuta el binario o usa Make:
```bash
make run-server
# O manualmente: ./bin/server
```
*   VerÃ¡s un icono en la barra de tareas.
*   Se generarÃ¡n certificados TLS (`cert.pem`, `key.pem`) automÃ¡ticamente.
*   AsegÃºrate de permitir el puerto `8080` en tu Firewall.

### 2. Iniciar el Cliente (PC Secundaria)
Copia el binario `client` (y el `config.json` configurado) a la otra computadora y ejecÃºtalo:
```bash
make run-client
# O manualmente: ./bin/client
```
*   El cliente intentarÃ¡ conectarse cada 3 segundos hasta tener Ã©xito.

### 3. Â¡Controlar! ğŸ–±ï¸
1.  Mueve el mouse de tu PC Servidor hacia el borde configurado (ej. Derecha).
2.  El mouse "saltarÃ¡" a la pantalla del Cliente.
3.  Ahora tu teclado y mouse controlan la PC Cliente.
4.  Copia texto o una imagen en el Cliente, espera un segundo y pÃ©galo en el Servidor (y viceversa).
5.  Para volver, mueve el mouse del Cliente hacia el borde contrario (hacia el Servidor).

---

## âš ï¸ SoluciÃ³n de Problemas

**1. El mouse se mueve lento o con lag.**
*   AsegÃºrate de estar en una red local (LAN), preferiblemente por cable Ethernet. El WiFi puede introducir latencia.

**2. Error al compilar en Linux: `fatal error: gtk/gtk.h: No such file...`**
*   Te faltan las librerÃ­as de desarrollo. Ejecuta: `sudo apt-get install libgtk-3-dev libayatana-appindicator3-dev`.

**3. No puedo copiar imÃ¡genes grandes.**
*   El lÃ­mite actual de seguridad es de 50MB. ImÃ¡genes muy grandes pueden tardar unos segundos en comprimirse y enviarse.

**4. Linux: Wayland vs X11.**
*   Esta herramienta utiliza `robotgo` que funciona nativamente en **X11**.
*   Si usas Wayland (por defecto en Ubuntu reciente), puede que necesites cerrar sesiÃ³n y elegir "Ubuntu on Xorg" en la pantalla de login, o configurar permisos especiales.

---

## ğŸ“œ Licencia

Este proyecto es de cÃ³digo abierto. SiÃ©ntete libre de modificarlo y mejorarlo.
